{
  "hash": "43c01b37497ca3f4a3fcc4a52ae9ef2b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Sector and services (Complete)\"\n---\n\n\n\n\n# Introduction\n\n## Goal\n\nThe following chart was [shared](https://x.com/GraphCrimes/status/1566264004288331776) by @GraphCrimes on X/Twitter on September 3, 2022.\n\nOur ultimate goal in this code along is to identify aspects of misrepresentation in this plot and then to correct them.\n\n![](https://data-science-with-r.github.io/images/sector-services.png){fig-alt=\"Segmented bar char of sector and services.\" fig-align=\"center\"}\n\n## Packages\n\nWe will use the **tidyverse** package for data wrangling and visualization.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n\n\n## Data\n\nThese data come from [Survation](https://www.survation.com/) and were recreated from the percentages noted on the segmented bar chart above.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvation <- read_csv(\"https://data-science-with-r.github.io/data/survation.csv\")\n```\n:::\n\n\n\n\nLet's take a look at the data.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvation\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,858 × 5\n      ID `Royal Mail`  Energy        Water         Rail         \n   <dbl> <chr>         <chr>         <chr>         <chr>        \n 1  1308 Public sector Public sector Public sector Public sector\n 2  1018 Public sector Public sector Public sector Public sector\n 3  1125 Public sector Public sector Public sector Public sector\n 4  1004 Public sector Public sector Public sector Public sector\n 5   623 Public sector Public sector Public sector Public sector\n 6   905 Public sector Public sector Public sector Public sector\n 7   645 Public sector Public sector Public sector Public sector\n 8   934 Public sector Public sector Public sector Public sector\n 9   400 Public sector Public sector Public sector Public sector\n10   900 Public sector Public sector Public sector Public sector\n# ℹ 1,848 more rows\n```\n\n\n:::\n:::\n\n\n\n\n# Analysis\n\n## Critique\n\nWhat is misleading about this graph?\n\nThe graph is misleading because the segments are not to scale (e.g., making it seem like the difference between public, private, and don't know are closer than the data shows).\n\n## Recreate and improve\n\n-   Confirm that the data match the percentages from the visualization. That is, calculate the percentages of public sector, private sector, don’t know for each of the services and check that they match the percentages from the plot.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvation_longer <- survation |>\n  pivot_longer(\n    cols = -ID,\n    names_to = \"service\",\n    values_to = \"sector\"\n  )\n\nsurvation_longer |>\n  count(service, sector) |>\n  group_by(service) |>\n  mutate(prop = round(n / sum(n), 2))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 12 × 4\n# Groups:   service [4]\n   service    sector             n  prop\n   <chr>      <chr>          <int> <dbl>\n 1 Energy     Don't know       130  0.07\n 2 Energy     Private sector   112  0.06\n 3 Energy     Public sector   1616  0.87\n 4 Rail       Don't know        56  0.03\n 5 Rail       Private sector    56  0.03\n 6 Rail       Public sector   1746  0.94\n 7 Royal Mail Don't know       149  0.08\n 8 Royal Mail Private sector   130  0.07\n 9 Royal Mail Public sector   1579  0.85\n10 Water      Don't know        56  0.03\n11 Water      Private sector    56  0.03\n12 Water      Public sector   1746  0.94\n```\n\n\n:::\n:::\n\n\n\n\n-   Create an improved version of the visualization. Your improved visualization:\n\n- should also be a segmented bar chart with services on the y-axis and presented in the same order as the original plot; sectors should create segments of the plot using the same colors (`gray`, `#FF3205`, and `#006697`) and appear in the same order as the original plot\n\n- should have the same legend location\n\n- should have the same title and caption\n\n- does not need to have a bolded title or a gray background\n\n- does not need to show percentages in the segments\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvation_longer |>\n  mutate(\n    service = fct_relevel(\n      service, \"Royal Mail\", \"Energy\", \"Water\", \"Rail\"\n    ),\n    sector = fct_rev(\n      fct_relevel(sector, \"Public sector\", \"Private sector\", \"Don't know\"))\n    ) |>\n  ggplot(aes(y = service, fill = sector)) +\n  geom_bar() +\n  scale_fill_manual(values = c(\"gray\", \"#FF3205\", \"#006697\")) +\n  guides(fill = guide_legend(reverse = TRUE)) +\n  theme_minimal() +\n  theme(legend.position = \"bottom\") +\n  labs(\n    x = NULL,\n    y = NULL,\n    fill = NULL,\n    title = \"Do you think the following services should be\\nrun in the private sector or the public sector?\",\n    caption = \"Base: All Respondents Unweighted Total: Total=1858\"\n  )\n```\n\n::: {.cell-output-display}\n![](1-2-sector-services-complete_files/figure-html/recreate-1.png){width=672}\n:::\n:::\n\n\n\n\n-   How does the improved visualization look different than the original? Does it send a different message at a first glance?\n\nYes, the improved visualization sends a much different message. Now, at first glance, it is more obvious that, regardless of service, most individuals voted that they should be handled in the public sector instead of the private or don't know. Before, the differences within sector were less obvious due to poor scaling.",
    "supporting": [
      "1-2-sector-services-complete_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}