{
  "hash": "2f8c81c2c3e4fdc98b9cca693d2daeed",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Misleading Data Visualizations\nformat: live-html\nengine: knitr\nbibliography: reference.bib\nwebr:\n  packages: \n    - tidyverse\n    - scales\n    - ggridges\n  cell-options:\n    autorun: false\n  resources:\n    - https://raw.githubusercontent.com/ElijahMeyer3/Coursera/main/data/kansas_covid.csv\n    - https://raw.githubusercontent.com/ElijahMeyer3/Coursera/main/data/georgia_covid.csv\n---\n\n\nProgramming exercises are designed to provide an opportunity for you to put what you learn in the videos and readings. These exercises feature interactive code chunks using a tool called [WebR](https://docs.r-wasm.org/webr/latest), which allow you to write, edit, and run R code without leaving your browser.\n\nWhen the ▶️ Run Code button turns to a solid color, you can interact with the code chunks!\n\nWe invite you to think critically about the ethics questions associated with each graph before opening the solution box so you get the most out of this exercise.\n\n## Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggridges)\n```\n:::\n\n\n<!-- begin: webr fodder -->\n\n::: {.cell}\n\n:::\n\n\n::: {.cell edit='false'}\n```{webr}\n#| edit: false\n#| echo: false\n#| output: false\noptions(\"readr.edition\" = 1)\n```\n:::\n\n\n<!-- end: webr fodder -->\n\n## Motivation\n\nData visualization is a powerful tool used to help a general audience synthesize complex data into a message that is understandable. However, data visualizations that are intentionally or unintentionally misleading can lead an audience to conclusions that are nothing more than fabrications of the truth.\n\nIn this programming exercise, we are going to visit data from the Covid-19 pandemic, and work through two different data visualizations, identifying why they are misleading, and how they can be improved.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell setup='true' exercise='ex_1'}\n```{webr}\n#| setup: true\n#| exercise: ex_1\nkansas_covid <- read_csv(\"kansas_covid.csv\")\n```\n:::\n\n\n## Kansas Covid\n\n*\"On August 6, 2020, Rachel Maddow of MSNBC tweeted “Chart: Kansas mask counties versus no-mask mandate counties” (Maddow 2020, August 6) along with a link to a plot (see figure below) created by the Kansas Department of Health and Environment—which was also shared live on The Rachel Maddow Show that same day. The plot compared the number of COVID-19 cases over time for counties in Kansas that had mask mandates versus those that did not\"* [@engledowl2021]\n\nThe data used to create the data visualization can be read in (to be used later), and seen below by running the following code.\n\n\n::: {.cell}\n```{webr}\n#| label: load-data\nkansas_covid <- read_csv(\"kansas_covid.csv\")\n\nkansas_covid\n```\n:::\n\n\n![](exercises/images/masks-v-nomasks.png)\n\nWhat is misleading about this graph? Why might it be misleading?\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nThere are two different y-axes. One on the left for the counties with the mask mandate, and one on the right for the counties without a mask mandate. This may be misleading, as someone may not see the additional y-axis on the right side of the graph; line graphs typically do not have two different y-axes.\n:::\n\nWhat trend in these data might someone conclude because of the misleading visualization?\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nBased on the misleading visualization, one could come to the conclusion that, the Kansas Covid-19 7 day rolling averages per/100k between the dates of 7/12/2020 through 8/03/2020 decreased to a lower value for masked counties than for counties that did not have the mask mandate\n:::\n\n## Fixing the graph\n\nNow that we have identified how this graph is misleading, let's create our own graph that fixes the issue! The first thing we need to do is think about the structure of our data. As seen above, our three column names are `date`, `mask mandate`, and `no-mask mandate`. How do the structure of these data need to change in order for us to plot these data?\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nThe values of mask mandate and no-mask mandate need to be levels of a categorical variable that we can map to the visual element (lines) on our plot. In the following code below, we name this variable `County`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkansas_covid |>\n  pivot_longer(!date, names_to = \"County\" , values_to = \"cases\") \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 46 × 3\n   date      County          cases\n   <chr>     <chr>           <dbl>\n 1 7/12/2020 mask mandate     25.2\n 2 7/12/2020 no-mask mandate   9.8\n 3 7/13/2020 mask mandate     19.7\n 4 7/13/2020 no-mask mandate   9.2\n 5 7/14/2020 mask mandate     19.7\n 6 7/14/2020 no-mask mandate   9.4\n 7 7/15/2020 mask mandate     20.4\n 8 7/15/2020 no-mask mandate   9.8\n 9 7/16/2020 mask mandate     19.7\n10 7/16/2020 no-mask mandate   9.9\n# ℹ 36 more rows\n```\n\n\n:::\n:::\n\n:::\n\nNow that our data is in the correct format (note that we also changed our `date` variable to be in the format of month, day, year), we are going to use `ggplot()`, and the appropriate geom function to make our new graph. Please see the [Function Reference](https://ggplot2.tidyverse.org/reference/) for the different types of `geoms` we can use. Add the appropriate geom to the plot below to make a line graph.\n\n\n::: {.cell}\n```{webr}\nkansas_covid |>\n  pivot_longer(!date, names_to = \"County\" , values_to = \"cases\") |>\n  mutate(date = as.Date(date, format = \"%m/%d/%Y\")) |>\n  ggplot(\n    aes(x = date , y = cases , color = County)\n  ) +\n  # add code here\n```\n:::\n\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nWe can use `geom_line()` to create a line graph!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nkansas_covid |>\n  pivot_longer(!date, names_to = \"County\" , values_to = \"cases\") |>\n  mutate(date = as.Date(date, format = \"%m/%d/%Y\")) |>\n  ggplot(\n    aes(x = date , y = cases , color = County)\n  ) +\n  geom_line()\n```\n\n::: {.cell-output-display}\n![](covid_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n:::\n\nUsing our new graph, what proper conclusion can we make?\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nBased on our new graph, we can see the Kansas Covid-19 7 day rolling averages per/100k between the dates of 7/12/2020 through 8/03/2020 decreased for the mask mandated counties, and stayed relatively consistent for the non-masked mandated counties. We can also see that within this date range, the non-mask mandated counties had a lower rolling average per/100k than masked mandated counties.\n:::\n\nWe can add the following lines of code to make the graph even more effective. We are using `scale_color_manual()` to change the colors of the line associated with the County variable; `scale_x_date()`to add date labels to the x-axis; `theme()`to change the angle of the x-axis and the position of the legend; and `labs()` to add a title!\n\n\n::: {.cell}\n```{webr}\nkansas_covid |>\n  pivot_longer(!date, names_to = \"County\" , values_to = \"cases\") |>\n  mutate(date = as.Date(date, format = \"%m/%d/%Y\")) |>\n  ggplot(\n    aes(x = date , y = cases , color = County)\n  ) +\n  geom_line() +\n  scale_color_manual(values = c(\"mask mandate\" = \"#E69F00\",\n                                \"no-mask mandate\" = \"#0072B2\")) +\n  scale_x_date(date_labels = \"%m/%d/%Y\", date_breaks = \"1 day\") + \n  theme(axis.text.x = element_text(angle = 60, hjust = 1),\n        legend.position = \"bottom\") + \n  labs(title = \"Kansas Covid-19 7 day rolling averages per/100k\")\n```\n:::\n\n\n## Georgia Covid\n\nGeorgia DPH temporarily published the following graph on the COVID-19 Daily Status Report. The data and associated plot can be found below. These data are pulled from the NY Times.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell setup='true' exercise='ex_2'}\n```{webr}\n#| setup: true\n#| exercise: ex_2\ngeorgia_covid <- read_csv(\"georgia_covid.csv\")\n```\n:::\n\n::: {.cell}\n```{webr}\n#| label: load-data2\ngeorgia_covid <- read_csv(\"georgia_covid.csv\")\n\ngeorgia_covid\n```\n:::\n\n\n![](exercises/images/georgia_covid.png)\n\nWhat is misleading about this graph? Why might it be misleading?\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nThe dates on the x-axis are not in chronological order. This is extremely misleading, and a general audience is going to assume a correct chronological order to the dates from left to right. Further, the order of the counties within date are sorted from highest to lowest, making cross date comparison more difficult for each county. One strategy we can use in R is to manually set the dates in chronological order using the `levels` argument in the `factor()` function when manipulating the `date` variable in our data set using `mutate()`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngeorgia_covid |>\n  filter(date >= \"2020-04-26\", date <= \"2020-05-09\") %>%\n  mutate(\n    date = format(date, \"%d%b%Y\"), \n    date = factor(date,\n                  levels = c(\"26Apr2020\", \"27Apr2020\", \"28Apr2020\", \n                             \"29Apr2020\", \"30Apr2020\", \"01May2020\", \n                             \"02May2020\", \"03May2020\", \"04May2020\",\n                             \"05May2020\", \"06May2020\", \"07May2020\", \n                             \"08May2020\", \"09May2020\")))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 70 × 7\n   date      county   state    fips cases deaths  case\n   <fct>     <chr>    <chr>   <dbl> <dbl>  <dbl> <dbl>\n 1 26Apr2020 Cobb     Georgia 13067  1428     75    33\n 2 26Apr2020 DeKalb   Georgia 13089  1800     36    12\n 3 26Apr2020 Fulton   Georgia 13121  2545     94     2\n 4 26Apr2020 Gwinnett Georgia 13135  1504     47    44\n 5 26Apr2020 Hall     Georgia 13139  1033     11     1\n 6 27Apr2020 Cobb     Georgia 13067  1483     81    55\n 7 27Apr2020 DeKalb   Georgia 13089  1855     42    55\n 8 27Apr2020 Fulton   Georgia 13121  2680    103   135\n 9 27Apr2020 Gwinnett Georgia 13135  1545     52    41\n10 27Apr2020 Hall     Georgia 13139  1098     12    65\n# ℹ 60 more rows\n```\n\n\n:::\n:::\n\n\nDates on our plot will appear in the order we set!\n:::\n\nWhat trend in these data might someone conclude because of the misleading visualization?\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nBased on the misleading visualization, one could come to the conclusion that the trend of Covid-19 cases across these five counties are significantly decreasing each day.\n:::\n\n## Fixing the graph\n\nWe can use the following code to help make their plot less misleading. We will not sort the levels of county within each date to be in descending order, to make comparisons easier. The function `geom_col()` is used to re-create the barplot. The functions `theme()`, `scale_x_discrete()`, and `scale_fill_manual()` are used to help recreate some of the visual features of the plot above.\n\n\n::: {.cell}\n```{webr}\ngeorgia_covid |>\n  filter(date >= \"2020-04-26\", date <= \"2020-05-09\") %>%\n  mutate(\n    date = format(date, \"%d%b%Y\"), \n    date = factor(date,\n                  levels = c(\"26Apr2020\", \"27Apr2020\", \"28Apr2020\", \n                             \"29Apr2020\", \"30Apr2020\", \"01May2020\", \n                             \"02May2020\", \"03May2020\", \"04May2020\",\n                             \"05May2020\", \"06May2020\", \"07May2020\", \n                             \"08May2020\", \"09May2020\"))) %>%\n  ggplot(aes(x = date, y = case, group = county, fill = county)) +\n  geom_col(position = position_dodge(), width=.8) + \n  scale_x_discrete(guide = guide_axis(n.dodge = 2)) +\n  scale_fill_manual(\"County\",\n                    values = c(\"#5854A8\", \"#46868E\", \"#958648\", \n                               \"#8F5D37\", \"#5D98DB\"),\n                    guide = guide_legend(title.position = \"top\",\n                                         title.hjust = 0.5)) + \n  ggtitle(\n    \"Top 5 Counties with the Greatest Number of Confirmed COVID-19 Cases\",\n    subtitle = \"The chart below represents the most impacted counties over the past 15 days and the number of cases over time.\") +\n  theme_classic() +\n  theme(legend.position = \"top\", \n        panel.background = element_rect(fill = \"#182F4E\"),\n        plot.background = element_rect(fill = \"#182F4E\"),\n        axis.line = element_line(color = \"white\"),\n        axis.text = element_text(color = \"white\"),\n        axis.title = element_text(color = \"white\"),\n        legend.background = element_rect(fill = \"#182F4E\"),\n        legend.text = element_text(color = \"white\"),\n        legend.title = element_text(color = \"white\"),\n        title = element_text(color = \"white\"))\n \n```\n:::\n\n\nUsing our new graph, what proper conclusion can we make about the trend of casses across the five counties?\n\n::: {.callout-tip collapse=\"true\"}\n## Solution\n\nBased on the less misleading graph, we can see that the overall trend of cases across the five counties may have gone down, but the rate in which they went down depends on the county. Further, some counties (ex. Hall) show a more cyclic pattern than an overall downward trend.\n:::\n\nWhat are some of your overall takeaways after working with these two misleading graphs?\n\n::: {.callout-tip collapse=\"true\"}\n## Takeaways\n\n-- We digest information from graphs very quickly. If data are misrepresented, it may not be initially obvious, leading to some making incorrect conclusions.\n\n-- Data cane be manipulated based on their axes. If you are creating / consuming graphed information, it's important to be cognizant of the scale and order in which information on the axes are in.\n\n-- Plotting data in a unfamiliar way (ex. having two y-axes) can be misleading, instead of a helpful comparison tool. As a researcher, think critically about how your audience is going scan your visualization.\n:::\n",
    "supporting": [
      "covid_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}